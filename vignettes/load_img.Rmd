---
title: "Load_and_present_img"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Load_and_present_img}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>"
)
```

```{r setup}
library(Stereology)
```

# Initial data loading and visualization

## Load image
```{r}
file_path <- system.file("extdata", "sponge3.jpg", package = "Stereology")
img <- load_img(file_path)
class(img)
```
## Visualize
```{r}
# Plot
p <- plot.stero(img)
```

## Add grid
```{r}
add_grid(p)
```

## Example of theoretical exploration of the image.

Below, there is an example of the functions 'mat.gen()' and 'th.i.est()' being used. <br/>
First, the image file to be used is loaded onto R, then the function mat.gen() is used. This function turns the image to a matrix of 1s and 0s, which in this case represent whether the area is 'filled' by sponge or not respectively.  As we can see its a 1899 by 1266 matrix. <br/>
After using the generated matrix ('mat'), as the first argument of the th.i.ests() function, we start from pixel/entry (x=)10 and add the length(d=) 10. We then do the same for y. As a last argument in the function, we specify the trial size (trial_s) in order to generate the binomial simulations. The function then outputs a list containing: <br/>

- the part of the matrix we subsetted for,
- the probability (p) estimated using this sub-matrix,
- the average of the p.hats generated through simulations, and
- the variance of those p.hats.

```{r}
# loading the image.

# to use a PNG/JPEG/BMP image stored on your computer try:
# path <- "~/images.png"
path <- system.file('extdata/sponge3.jpg',package='Stereology')

# applying mat.gen().
mat <- mat.gen(path)

# matrix dimensions.
dim(mat)

# applying thr.i.ests()
est.list <- th.i.ests(mtr = mat, x = 10, y = 10, d= 10, trial_s = 1000)
est.list

```

